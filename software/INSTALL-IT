git clone --recursive https://github.com/openrisc/or1k-gcc
git clone --recursive https://github.com/openrisc/or1k-src
git clone --recursive git://sourceware.org/git/binutils-gdb
git clone --recursive git://sourceware.org/git/newlib-cygwin

export PATH=/opt/or1k-elf-gcc/bin:${PATH}

cd binutils-gdb
rm -rf build-binutils
mkdir build-binutils
cd build-binutils
../configure --target=or1k-elf --prefix=/opt/or1k-elf-gcc --enable-shared \
--disable-itcl --disable-tk --disable-tcl --disable-winsup --disable-gdbtk \
--disable-libgui --disable-rda --disable-sid --disable-sim --with-sysroot
make
sudo make install
cd ..

cd or1k-gcc
rm -rf build-gcc-stage1
mkdir build-gcc-stage1
cd build-gcc-stage1
../configure --target=or1k-elf --prefix=/opt/or1k-elf-gcc --enable-languages=c \
--disable-shared --disable-libssp
make
sudo make install
cd ..

cd newlib-cygwin
rm -rf build-newlib
mkdir build-newlib
cd build-newlib
../configure --target=or1k-elf --prefix=/opt/or1k-elf-gcc
make
sudo make install
cd ..

cd or1k-gcc
rm -rf build-gcc-stage2
mkdir build-gcc-stage2
cd build-gcc-stage2
../configure --target=or1k-elf --prefix=/opt/or1k-elf-gcc \
--enable-languages=c,c++ --disable-shared --disable-libssp --with-newlib
make
sudo make install
cd ..

cd or1k-src
rm -rf build-gdb
mkdir build-gdb
cd build-gdb
../configure --target=or1k-elf --prefix=/opt/or1k-elf-gcc --enable-shared \
--disable-itcl --disable-tk --disable-tcl --disable-winsup --disable-gdbtk \
--disable-libgui --disable-rda --disable-sid --enable-sim --disable-or1ksim \
--enable-gdb --with-sysroot --disable-newlib --disable-libgloss
make
sudo make install
cd ..

